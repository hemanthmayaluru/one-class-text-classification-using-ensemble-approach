{"title": "Evaluating Real-time Anomaly Detection Algorithms - the Numenta Anomaly  Benchmark", "tag": ["cs.AI", "cs.LG"], "abstract": "Much of the world's data is streaming, time-series data, where anomalies give significant information in critical situations; examples abound in domains such as finance, IT, security, medical, and energy. Yet detecting anomalies in streaming data is a difficult task, requiring detectors to process data in real-time, not batches, and learn while simultaneously making predictions. There are no benchmarks to adequately test and score the efficacy of real-time anomaly detectors. Here we propose the Numenta Anomaly Benchmark (NAB), which attempts to provide a controlled and repeatable environment of open-source tools to test and measure anomaly detection algorithms on streaming data. The perfect detector would detect all anomalies as soon as possible, trigger no false alarms, work with real-world time-series data across a variety of domains, and automatically adapt to changing statistics. Rewarding these characteristics is formalized in NAB, using a scoring algorithm designed for streaming data. NAB evaluates detectors on a benchmark dataset with labeled, real-world time-series data. We present these components, and give results and analyses for several open source, commercially-used algorithms. The goal for NAB is to provide a standard, open source framework with which the research community can compare and evaluate different algorithms for detecting anomalies in streaming data.", "text": "appreciate encourage comments contents paper. github https//github.com/numenta/nab. repository contains code data detailed results reported paper. submit issues pull requests there contact email addresses. lavin ahmad evaluating real-time anomaly detection algorithms numenta anomaly benchmark international conference machine learning applications automation detectors continue learn adapt changing statistics simultaneously making predictions. real goal often prevention rather detection desirable detect anomalies early possible giving actionable information ideally well catastophic failure. benchmarks designed static datasets adequately requirements real-time applications. capture example scoring standard classification metrics precision recall suffice fail reflect value early detection. artificial separation training test sets properly capture streaming scenario properly evaluate continuously learning algorithm. methodology scoring rules designed criteria mind. experience customers researchers also discovered would beneficial industry include real-world labeled data multiple domains. data rare valuable attempts incorporate dataset part benchmark. exist time-series data corpuses intended real-time anomaly detection ucirvine dataset recently released dataset yahoo labs neither include scoring system data could eventually incorporated nab. attempts provide controlled repeatable environment tools test measure different anomaly detection algorithms streaming data. include paper initial evaluation four different real-time algorithms. numenta developed anomaly detection algorithm based hierarchical temporal memory continuous learning system derived theory neocortex well suited real-time applications. algorithm proven useful applications monitoring server data geospatial tracking stock trading metrics social media also include comparative results open source anomaly detection algorithms etsy skyline popular open source algorithm twitter course many algorithms directly tested hope eventually wide assortment algorithms independently evaluated results reported manner objectively comparable. much world‚Äôs data streaming time-series data anomalies give significant critical situations; examples abound domains finance security medical energy. detecting anomalies streaming data difficult task requiring detectors process data real-time batches learn simultaneously making predictions. benchmarks adequately test score efficacy real-time anomaly detectors. propose numenta anomaly benchmark attempts provide controlled repeatable environment open-source tools test measure anomaly detection algorithms streaming data. perfect detector would detect anomalies soon possible trigger false alarms work real-world time-series data across variety domains automatically adapt changing statistics. rewarding characteristics formalized using scoring algorithm designed streaming data. evaluates detectors benchmark dataset labeled real-world time-series data. present components give results analyses several open source commercially-used algorithms. goal provide standard open source framework research community compare evaluate different algorithms detecting anomalies streaming data. rapid rise real-time data sources detection anomalies increasingly important. cases preventative maintenance fraud prevention fault detection monitoring found throughout numerous industries finance security medical energy e-commerce social media. anomaly detection notoriously difficult benchmark compare addition real-time applications impose unique constraints challenges must considered. goal paper introduce numenta anomaly benchmark rigorous benchmark source code evaluating real-time anomaly detection algorithms. anomaly detection real-world streaming applications challenging. detector must process data output decision real-time rather making many passes batches files. scenarios number sensor streams large little opportunity human alone expert unsupervised automated often necessity. part aims represent variety anomalous data associated challenges detectors face real-world streaming applications. define anomalies data stream patterns conform past patterns behavior stream. definition encompasses point anomalies well temporal anomalies. example spiking point anomaly occurs single data point extends well expected range. streaming data commonly also contains temporal anomalies change frequency sudden erratic behavior metric temporal deviations. anomalies defined respect past behavior. means behavior anomalous first ceases anomalous persists; i.e. normal pattern established. fig. shows representative anomalies taken dataset. current version focus time-series data contains time stamp plus single scalar value. requirements include types streaming data anomalies include variety data metrics present common challenges noise establishing normal patterns. anomalous patterns differ significantly across applications. one-second latency periodic data could significant fluctuation pattern stock trading volume meaningless. thus important dataset include metrics across variety domains applications. data currently corpus represents variety metrics ranging metrics network utilization sensors industrial machines social media chatter. also include artificially-generated data files test anomalous behaviors represented corpus‚Äôs real data well several data files without anomalies. current dataset contains data files data instances total data points. labeled hand following meticulous documented procedure. labelers must adhere rules inspecting data files anomalies label-combining algorithm formalizes agreement ground truth labels. process designed mitigate human error much possible. addition smooth scoring function ensures small labeling errors cause large changes reported scores. often prohibitively expensive collect accurately labeled anomalous data instances covers types anomalous behavior element dataset inclusion real-world data anomalies know causes. propose dataset quality collection time-series data labeled anomalies fig. representative examples real data streams dataset. anomalies labeled circles. first anomaly figure subtle challenging. spiking behavior return baseline expected soon normal pattern. second anomaly simple spike anomaly system returns previous patterns. third anomaly identifies long period inconcsitent normal spiking pattern. bottom figure shows temperature sensor data internal component large expensive industrial machine. first anomaly planned shutdown. third anomaly catastrophic system failure. second anomaly subtle observable change behavior indicated actual onset problem eventual system failure. scoring real-time anomaly detectors anomaly detector accepts data input outputs instances deems anomalous. scoring system formalizes rules determine overall quality anomaly detection. define requirements ideal real-world anomaly detector follows detects anomalies present streaming data detects anomalies soon possible ideally anomaly becomes visible human iii. triggers false alarms works real time data traditional scoring methods precision recall don‚Äôt suffice don‚Äôt effectively test anomaly detection algorithms real-time use. example incorporate time reward early detection. therefore standard classification metrics true positive false positive true negative false negative applicable evaluating algorithms requirements. fig. shaded regions represent anomaly windows data file. shaded purple region first data file representing probationary period. period detector allowed learn data patterns without tested. promote early detection defines anomaly windows. window represents range data points centered around ground truth anomaly label. fig. shows example using data scoring function uses windows identify weight true positives false positives false negatives. multiple detections within window earliest detection given credit counted true positive. additional positive detections within window ignored. sigmoidal scoring function gives higher positive scores true positive detections earlier window negative scores detections outside window properties illustrated fig. example. large windows earlier detector reliably identify anomalies better implying windows large possible. tradeoff extremely random unreliable detections would regularly reinforced. using underlying assumption true anomalies rare define anomaly soon ground truth anomaly. convenient number note exact number critical. tested range window sizes found that partly scaled scoring function score sensitive percentage. different applications place different emphases relative importance true positives false negatives false positives. example graph fig. represents expensive manufacturing plant. false negative leading machine failure factory lead production outages extremely expensive. false positive hand might require technician inspect data closely. cost false negative higher cost false positive. alternatively application monitoring statuses individual servers datacenter might sensitive number false positives fine occasional missed anomaly since server clusters relatively fault tolerant. gauge algorithms operate within different application notion application profiles. applies different relative weights associated profile obtain separate score profile. fig. scoring example sample anomaly window values represent scaled sigmoid function second term first point preceding anomaly window contributes score. within window detections count earliest score. window. first less detrimental close window second yields it‚Äôs window associated true anomaly. make score contributions. scaled sigmoid values multiplied relevant application profile weight shown time would zero final score average. latter profiles accredit greater penalties respectively. profiles somewhat arbitrary designed illustrative algorithm behavior. codebase designed user easily tweak re-score algorithms. application profiles thus help evaluate sensitivity detectors specific applications criteria. application profile computed follows. ùê¥\"ùê¥\"ùê¥\"ùê¥\" corresponding weights ‚â§ùê¥\"ùê¥\"‚â§ ‚àí‚â§ùê¥\"ùê¥\"‚â§. data files data instances detected anomalies datafile number windows zero detections data file number false negatives represented respectively. every detection outside window counted false positive given scaled negative score relative preceding window. function designed detections slightly window contribute less negative scores detections well window. missing window completely counted false negative assigned valuable community tool benefitting researchers academia industry. building collaborating community welcome contributions data additional online anomaly detection algorithms. completely open source code base released permissive license follows versioning protocol public issue tracking allowing changes dataset additions clearly discussed communicated. post scores contributed algorithms scoreboard reflects specific version number time paper submission. codebase modular designed make easy test additional algorithms adjust application profiles even test custom labeled datafiles. hope time scoreboard reflect results large number algorithms. paper report initial results using four open source commercially used algorithms plus control detectors. four primary algorithms numenta anomaly detector etsy skyline twitter algorithms anomalydetectionts anomalydetectionvec. also simple control detectors baselines. briefly described below. ‚ãØùë•ùë•ùë•ùë•ùë•‚ãØ temporal sequences stream. point makes multiple predictions time predictions significantly different anomaly equal anomaly score system maintains mean variance recent distribution anomaly scores. every time step outputs likelihood current anomaly score respective normal distribution. anomaly likelihood score thresholded detect final anomaly. numenta algorithm several features make suitable real world streaming data. deal predictable highly unpredictable data final score deviation typical level predictability stream. temporal model makes multiple predictions thus deal branching temporal sequences. algorithm continuously learning algorithm changes statistics data automatically handled without additional retraining. finally system robust parameter settings. thus able handle wide range datasets without manual parameter tweaking. code used commercial applications freely available agpl license python skyline real-time anomaly detection system originally developed etsy.com monitoring high traffic site. algorithm employs mixture experts approach. incorporates simple detectors plus voting scheme output final anomaly score. detectors include deviation moving average deviation least squares estimate deviation histogram past values etc. like numenta algorithm skyline well suited analyzing internal estimates continually adjusted mixture simple experts relatively robust across wide range applications. code open source tested commercial settings. twitter recently released versions real-time anomaly detection algorithm. uses combination statistical robustly detect outliers. generalized test combined robust statistical metrics piecewise approximation used detect long term algorithm anomalydetectionvec intended general detect anomalies data without timestamps requires manually tuning periodicity. second version algorithm anomalydetectionts exploits timestamps detect periodicity detect short-term longterm unfortunately anomalydetectionts unable calculate necessary period parameters data files thus cannot include table results. worth noting data files adts successfully outperformed advec. algorithms used commercial settings code available open source addition core detectors three control detectors. null detector outputs constant anomaly score data instances. perfect detector oracle outputs detections would maximize score; i.e. outputs true positives beginning window. discussed earlier scores detectors used scale score algorithms also include random detector outputs random anomaly score algorithm allowed output anomaly score score thresholded using fixed threshold order detect anomaly. includes automated hill-climbing search selecting optimal threshold algorithm. search efficiently optimizes range possible thresholds objective function maximized scoring function. detection threshold thus tuned based full dataset constraint single fixed number used data files. table summarizes scores algorithms three application profiles using data files detector achieves best overall scores followed etsy twitter. although detector performs markedly better etsy twitter algorithms perform significantly better chance across three application profiles. detailed analysis errors illustrates primary strengths weaknesses algorithm. notice algorithms dropped score standard reward profiles skyline score decrease others? corpus data instances skyline detects anomalous whereas advec detect respectively. algorithm makes many detections likely result fewer. similarly algorithm would result fewer reflected reward results skyline increased tested algorithms. investigating individual results files illustrates interesting situations arise real time applications different detectors behave. fig. demonstrates value continuous learning. file shows usage production server time contains anomalies. maximize advec scores tuned max_anom period parameters. former flag maximum data instances given file anomalous. latter period length data instances first simple spike detected algorithms. second sustained shift usage. skyline detect change adapt normal twitter advec however continues generate anomalies several days. fig. detection results anomalies production server based usage. shapes correspond different detectors skyline advec diamond square plus respectively. given detector scored detection within window labeled black. detections colored red. fig. shaded regions denote anomaly windows. figs. demonstrate temporal anomalies importance early detection. fig. shows close results previously discussed machine temperature sensor data file. first anomaly shown plot somewhat subtle temporal anomaly temporal behavior unusual individual readings within expected range. anomaly detected htm. three detectors detect second anomaly although skyline detect earlier advec. plot skyline also false positive. fig. another example demonstrating early detection. three detectors detect anomaly detects three hours earlier subtle shift metric dynamics. fig. close detection results machine temperature data figs. detects first anomaly algorithms detect second anomaly skyline hours advec. skyline show fig. detection results demonstrating early detection. although detectors correctly identify anomaly detects three hours earlier skyline advec change metric dynamics. figures illustrate common situation occurs practice. demonstrated data files temporal changes behavior often precede large easily detectable shift. temporal sequence based anomaly detection techniques thus detect anomalies streaming data easily visible. provides hope algorithms used production provide early warning help avoid catastrophes traditional techniques. provide anomaly detection research community controlled repeatable environment tools test measure different algorithms real-time streaming applications. contributions work threefold benchmark dataset real world time-series data files variety domains labeled anomalies. easily accessible real data streaming applications rare value algorithm practitioners significant. paper noted insights presence subtle changes dynamics preceding large-scale failures. performance evaluation scoring philosophy designed real time applications. scoring system augments traditional metrics incorporating time explicitly rewarding early detection. addition easily tuned application profiles allows developers explicitly test algorithms specific application requirements. discussed components methods presented evaluation results several open source detection algorithms. although algorithm outperforms tested anomaly detectors results show still room improvement. investigating results allowed pinpoint strengths shortcomings algorithms. serdio lughofer pichler m.pichler buchegger efendic. fault detection multi¬≠sensor networks based multivariate time¬≠series models orthogonal transformations information fusion vol. laptev amizadeh flint. generic automated time-series anomaly scalable framework detection. sigkdd international conference knowledge discovery data mining rebbapragada protopapas brodley alcock. finding anomalous periodic time series application catalogs periodic variable stars machine learning vol. chandola mithal kumar. \"comparative evaluation anomaly detection techniques sequence data.\" eighth ieee international conference data mining. dasgupta forrest. \"novelty detection time series data using ideas immunology.\" proceedings international conference intelligent systems. keogh lonardi chiu. symbolic representation time series implications streaming algorithms.\" proceedings sigmod workshop research issues data mining knowledge discovery. acm. ready researchers evalute algorithms report results. move beyond future work involve adding real-world data files corpus. also anticipate incorporating multivariate anomaly detection categorical data. time hope researchers test develop large number anomaly detection algorithms specific purpose applying real time streaming applications. would like thank jeff hawkins danforth celeste baranski gokhale silver contributions paper. also thank ieee reviewers comments helped improve overall readibility. tavallaee stakhanova ghorbani toward credible evaluation anomaly-based intrusion-detection methods ieee transactions systems cybernetics part applications reviews vol. september laptev amizadeh billawala. yahoo labs news announcing benchmark dataset time series anomaly detection blog]. available http//labs.yahoo.com/news/announcing-a-benchmark-datasetfor-time-series-anomaly-detection hawkins ahmad dubinsky. hierarchical temporal memory including cortical learning algorithms palo alto numenta inc. available http//numenta.org/cla-white-paper.html numenta applications redwood city numenta inc. available http//numenta.com/applications stanway. etsy/skyline january twitter engineering introducing practical robust anomaly detection time series available https//blog.twitter.com//introducing-practical-and-robustanomaly-detection-in-a-time-series", "year": 2015}